You are a senior Flutter engineer and product-minded developer working on a legal awareness app called “Know Your Rights”.

CURRENT STATE:
- App already has:
  - Chat-based intake
  - AI-based issue classification (routing only)
  - Predefined issue flows stored in JSON
  - Multilingual support (English, Hindi, Bengali)
- Current issue flows mainly explain rights of one side (tenant, employee, consumer).

GOAL:
Refactor and extend the app to provide BALANCED legal awareness by covering:
- Rights
- Duties
- Limits
- Consequences
for BOTH sides involved in a legal relationship.

This app must remain:
- Educational (not advisory)
- Neutral
- Trustworthy
- Non-confrontational

CORE CONCEPTUAL SHIFT:
Stop treating issues as “one party vs another”.
Treat each issue as a *relationship* (e.g. employment, tenancy, consumer transaction).

ARCHITECTURAL REQUIREMENTS:
- Do NOT change backend or AI logic
- Do NOT change issue_id values
- Changes must be implemented via:
  - Content schema extension
  - UI changes
  - Decision-tree refinements
- Existing functionality must continue to work

CONTENT MODEL CHANGES (IMPORTANT):
Extend the JSON schema for each issue to include:

1. allowed_actions:
   - What the user is generally allowed to do

2. obligations:
   - What the law expects the user to do
   - Things the user should NOT do

3. other_side_perspective:
   - What rights/obligations the other party has
   - When the other party’s actions may be legal

4. misuse_warning:
   - Short neutral warning explaining that misuse of rights or false complaints can have consequences

5. escalation_boundaries:
   - When escalation is reasonable
   - When it may backfire

The schema must remain language-agnostic and localization-friendly.

UI / UX REQUIREMENTS:

1. Add a “Perspective Toggle” on the issue explanation screen:
   - Default: “Your side”
   - Toggle: “Other party’s perspective”
   - This toggle only changes content, not navigation

2. Add a clearly labeled section:
   - “What you should NOT do”
   - Use calm, non-judgmental language

3. Add a small but visible “Misuse of rights” warning section:
   - Informational, not threatening

4. Improve tone across the app:
   - Avoid accusatory or absolute language
   - Prefer:
     - “In most situations…”
     - “The law generally expects…”
     - “This may apply if…”

DECISION TREE IMPROVEMENTS:
Before showing rights/actions, add one neutral self-check question where relevant.
Examples:
- Employment: “Are you currently fulfilling your agreed job duties?”
- Tenancy: “Is rent being paid as agreed?”
- Consumer: “Has the seller already offered a resolution?”

If the answer indicates the user may be at fault:
- Show a balanced explanation
- Highlight obligations and consequences
- Do NOT block the user
- Do NOT shame or judge

NON-GOALS (DO NOT IMPLEMENT):
- No moral judgments
- No legal advice
- No AI-generated explanations
- No blame language
- No enforcement logic

CODE QUALITY REQUIREMENTS:
- Extend models cleanly
- Keep UI and logic separated
- Avoid hardcoded text
- Maintain localization support
- Add comments explaining intent and reasoning

IMPLEMENTATION STEPS:
1. Propose updated JSON schema
2. Update Dart models accordingly
3. Refactor issue explanation screen to support:
   - perspective toggle
   - new content sections
4. Add self-check questions where applicable
5. Ensure backward compatibility with existing flows

Proceed without asking questions unless absolutely necessary.
